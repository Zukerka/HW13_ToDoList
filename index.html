<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        'use strict'

        const toDo = {
            list: [],
            
            add(title, text) {
                const note = {
                    title,
                    text, 
                    completed: false,
                }; 

                if (this.checkUniq(title)){
                    this.list.push(note); 
                }

            },

            remove(title) {
               const index = this.list.findIndex(note => note.title === title); 

               this.list.splice(index, 1) 
            }, 

            toggle(title) {
                this.list.forEach(note => {
                    if(note.title === title){
                        note.completed = !note.completed
                    }
                })
            },

            info() {
                return this.list.reduce((info,note) => {
                    if (!info.total){
                        info.total = this.list.length;
                    }

                    if(!info[note.completed]){
                        info[note.completed] = 1;
                    }
                        info[note.completed]++;

                }, {})
            }, 

            checkUniq(title){
                return !this.list.find(note => note.title === title)
            } 
        }

        // Object.freeze(toDo);
        
        // Object.defineProperty(toDo, 'checkUniq', {
        //     enumerable: false, 
        // }); 

        // Object.defineProperties(toDo, {
        //     add:{
        //         enumerable: false
        //     }, 

        //     remove:{
        //         enumerable: false
        //     }, 

        //     toggle: {
        //         enumerable: false
        //     }, 

        //     info: {
        //         enumerable: false
        //     }, 

        //     checkUniq: {
        //         enumerable: false
        //     }, 

        // })

        toDo.fre = function(){
            console.log('Nothing gonna happen');
        }
        toDo.fre(); 

        function makeEnumerable(object){
            for (const key in object) {
                
                if (typeof(object[key]) === 'function'){
                    Object.defineProperty(object, key, {enumerable: false})
                }
                
             }
            return object
        }

        makeEnumerable(toDo); 

        for (const key in toDo) {
            console.log(key);
        }

    </script>
</body>
</html>